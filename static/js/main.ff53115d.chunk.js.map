{"version":3,"sources":["Navbar.jsx","Bloglist.jsx","useFetch.js","Home.jsx","Create.jsx","BlogDetails.jsx","NotFound.jsx","App.js","index.js"],"names":["Navbar","className","to","BlogList","blogs","title","map","blog","id","author","useFetch","url","useState","data","setData","isLoading","setIsLoading","error","setError","useEffect","abortController","AbortController","fetch","signal","then","res","ok","Error","json","catch","err","name","console","log","message","abort","Home","style","color","Bloglist","Create","setTitle","body","setBody","setAuthor","isPending","setIsPending","history","useHistory","onSubmit","e","preventDefault","method","headers","JSON","stringify","push","type","required","value","onChange","target","cols","disabled","BlogDetails","useParams","onClick","NotFound","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff53115d.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <h1>Spark Blog</h1>\r\n            <div className=\"links\">\r\n                <Link to=\"/\">Home</Link>\r\n                <Link to=\"/create\">New Blog</Link>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import { Link } from \"react-router-dom\";\r\n\r\nconst BlogList = ({ blogs, title }) => {\r\n\r\n    return (\r\n        <div className=\"blog-list\">\r\n            <h2>{title}</h2>\r\n            {blogs.map(blog => (\r\n                <div className=\"blog-preview\" key={blog.id} >\r\n                    <Link to={`/blogs/${blog.id}`}>\r\n                        <h2>{blog.title}</h2>\r\n                        <p>Written by {blog.author}</p>\r\n                    </Link>\r\n\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BlogList;","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n\r\n    const [data, setData] = useState(null)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [error, setError] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const abortController = new AbortController();\r\n\r\n        fetch(url, { signal: abortController.signal })\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    throw Error('Could not complete request')\r\n                }\r\n                return res.json()\r\n            })\r\n            .then(data => {\r\n                setData(data)\r\n                setIsLoading(false)\r\n                setError(null)\r\n            })\r\n            .catch(err => {\r\n                if (err.name === 'AbortError') {\r\n                    console.log('fetch aborted');\r\n                } else {\r\n                    setIsLoading(false);\r\n                    setError(err.message)\r\n                }\r\n            })\r\n\r\n        return () => abortController.abort();\r\n    }, [url])\r\n\r\n\r\n    return { data, isLoading, error }\r\n}\r\n\r\nexport default useFetch;","import Bloglist from \"./Bloglist\";\r\nimport useFetch from './useFetch';\r\n\r\nconst Home = () => {\r\n    const { data: blogs, isLoading, error } = useFetch('http://localhost:8000/blogs')\r\n    return (\r\n        <div className=\"home\">\r\n            {error && <p style={{ color: 'tomato' }}>{error}</p>}\r\n            {isLoading && <p>Loading...</p>}\r\n            {blogs && <Bloglist blogs={blogs} title=\"All Blogs\" />}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Create = () => {\r\n\r\n    const [title, setTitle] = useState('')\r\n    const [body, setBody] = useState('')\r\n    const [author, setAuthor] = useState('Sumit')\r\n\r\n    const [isPending, setIsPending] = useState(false)\r\n\r\n    const history = useHistory()\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setIsPending(true)\r\n        const blog = { title, body, author }\r\n\r\n        fetch('http://localhost:8000/blogs', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(blog),\r\n        }).then(() => {\r\n            console.log('New Blog Added');\r\n            setIsPending(false)\r\n            history.push('/')\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"create\">\r\n            <h2>Add a new blog</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>Blog Title</label>\r\n                <input type=\"text\" required value={title} onChange={(e) => setTitle(e.target.value)} />\r\n\r\n                <label>Blog Body</label>\r\n                <textarea type=\"text\" cols=\"20\" required value={body} onChange={(e) => setBody(e.target.value)} />\r\n\r\n                <label>Blog Author</label>\r\n                <select value={author} onChange={(e) => setAuthor(e.target.value)}>\r\n                    <option value=\"Sumit\">Sumit</option>\r\n                    <option value=\"Jack\">Jack</option>\r\n                    <option value=\"Anoop\">Anoop</option>\r\n                </select>\r\n\r\n                {!isPending && <button>Add Blog</button>}\r\n                {isPending && <button disabled>Adding blog..</button>}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Create;","import { useHistory, useParams } from \"react-router-dom\";\r\nimport useFetch from \"./useFetch\";\r\n\r\nconst BlogDetails = () => {\r\n\r\n    const { id } = useParams()\r\n    const { data: blog, error, isLoading } = useFetch('http://localhost:8000/blogs/' + id)\r\n\r\n    const history = useHistory()\r\n\r\n    const handleDelete = () =>{\r\n        fetch('http://localhost:8000/blogs/'+ blog.id,{\r\n            method: 'DELETE'\r\n        }).then(()=>{\r\n            history.push('/')\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"blog-details\">\r\n             {error && <p style={{ color: 'tomato' }}>{error}</p>}\r\n            { isLoading && <p>Loading...</p>}\r\n            { blog && (\r\n                <article>\r\n                    <h2>{blog.title}</h2>\r\n                    <p>Written by {blog.author}</p>\r\n                    <div>{blog.body}</div>\r\n                    <button onClick={handleDelete} >Delete</button>\r\n                </article>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BlogDetails;","import { Link } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"not-found\">\r\n            <h2>Ooops...!</h2>\r\n            <p>That page cannot be found</p>\r\n\r\n            <Link to=\"/\">Take me home</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotFound;","import Navbar from './Navbar.jsx';\nimport Home from './Home';\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Create from './Create.jsx';\nimport BlogDetails from './BlogDetails.jsx';\nimport NotFound from './NotFound.jsx';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"content\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/create\">\n              <Create />\n            </Route>\n            <Route path=\"/blogs/:id\">\n              <BlogDetails />\n            </Route>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}